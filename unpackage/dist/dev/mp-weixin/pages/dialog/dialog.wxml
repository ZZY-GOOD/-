<view class="dialog-page"><view wx:if="{{a}}" class="scene-header"><view class="scene-title">{{b}}</view><view class="meta-row"><view class="meta-item"><text class="meta-label">原谅值</text><view class="bar"><view class="bar-fill" style="{{'width:' + c}}"></view></view><text class="meta-value">{{d}}/100</text></view><view class="meta-item turns"><text class="meta-label">聊天轮次</text><text class="meta-value">{{e}}/{{f}}</text></view></view></view><scroll-view class="{{['chat-list', h && 'game-ended']}}" scroll-y="{{true}}" scroll-with-animation scroll-into-view="{{i}}"><view wx:for="{{g}}" wx:for-item="msg" wx:key="e" id="{{msg.f}}" class="{{['chat-item', msg.g]}}"><image class="avatar" src="{{msg.a}}" mode="aspectFill"/><view class="bubble"><text class="msg-text">{{msg.b}}</text><text wx:if="{{msg.c}}" class="forgive-change">{{msg.d}}</text></view></view></scroll-view><view wx:if="{{j}}" class="{{['result-banner', l]}}"><text class="result-text">{{k}}</text></view><view wx:if="{{m}}" class="input-area"><block wx:if="{{r0}}"><textarea class="text-input multiline" disabled="{{n}}" placeholder="快，说点什么" auto-height maxlength="{{o}}" value="{{p}}" bindinput="{{q}}"/></block><button class="send-btn" type="primary" disabled="{{r}}" bindtap="{{s}}">发送</button></view><view wx:if="{{t}}" class="action-buttons"><button class="action-btn restart-btn" bindtap="{{v}}">重开</button><button class="action-btn return-btn" bindtap="{{w}}">返回</button></view></view>