# 哄一哄他（她）微信小程序需求文档

## 1. 项目概述

### 1.1 项目名称
- 哄一哄他（她）

### 1.2 项目背景
- 灵感来源：热门网页游戏“哄哄模拟器 Web 版”（<https://hong.greatdk.com/>），基于 AI 互动，用户通过文字聊天在限定次数内哄好生气的虚拟对象（伴侣、亲人、朋友等），提升沟通能力与情商。
- 现状：已有 iOS App 版，暂无官方微信小程序。小程序具备即开即用、易分享优势，适合轻量娱乐互动。
- 目的：移植到微信小程序，扩大触达与传播。

### 1.3 项目目标
- 提供免费、趣味性的 AI 哄人模拟器，帮助用户练习情商和沟通技巧。
- 核心玩法：选择场景 → AI 扮演生气对象 → 用户输入哄话 → 动态计算原谅值 → 成功/失败。
- 支持用户提交自定义场景，增强社区互动。
- 目标用户：18-35 岁的情侣、单身青年、情商训练爱好者。
- 预期：快速上线，借助微信生态实现病毒式传播。

### 1.4 项目范围
- MVP：核心场景选择 + 聊天互动 + 原谅值系统 + 基本统计。
- 后续迭代：用户自定义场景审核、排行榜、分享战绩、每日挑战等。

## 2. 功能需求

### 2.1 主要页面与功能模块

#### 2.1.1 首页（场景列表页）
- 展示标题与简介（“你的 AI 对象生气了，快哄哄 TA”）。
- 场景分类：情侣、亲人、职场、奇怪/奇幻、角色扮演等。
- 场景卡片：标题、简短描述、播放次数、胜率、难度标签（易/中/难，按胜率）。
- 支持下拉刷新统计数据。
- 搜索：关键词搜索场景。
- 入口：提交自定义场景（跳转表单页）。

#### 2.1.2 场景详情 / 游戏页（聊天互动页）
- 展示场景描述与生气理由。
- 聊天界面（类微信）：
  - 原谅值进度条（初始 20-30，随场景设定），显示互动次数。
  - AI 对象头像、昵称（如“女朋友”“妈妈”“吸血鬼”）；用户头像默认微信头像。
  - 聊天记录：AI 先发初始消息，用户回复，AI 动态响应。
  - 输入框发送文字，支持表情包（微信内置）。
  - 每条消息后 AI 回复并更新原谅值（+10~+30 或 -10~-50）。
- 结束条件：
  - 原谅值 ≥ 100：成功页（恭喜、分享战绩、返回列表）。
  - 原谅值 ≤ 0 或次数耗尽：失败页（重试、分享失败截图、返回）。
- 支持语音输入（微信原生）。

#### 2.1.3 提交自定义场景页
- 表单字段：场景标题、生气理由、对象角色（男/女/其他）、分类、预期难度。
- 提交提示：“审核中，感谢贡献！”（后台审核后上线）。

#### 2.1.4 个人中心 / 我的页
- 展示用户玩过的场景、成功率、总播放次数。
- 分享战绩（生成卡片：场景 + 胜率 + 原谅值变化）。
- 关于与反馈入口。

#### 2.1.5 其他功能
- 分享：分享场景或战绩到好友/群/朋友圈。
- 每日统计更新（后台定时或模拟）。
- 防刷：单场景失败后冷却时间（可选）。

### 2.2 非功能需求
- 性能：聊天响应 < 3s。
- 安全：输入敏感词过滤，避免违规。
- 兼容：适配 iOS/Android 微信、不同屏幕尺寸。
- 隐私：不收集聊天记录，仅统计匿名玩法数据。

## 3. 技术需求

### 3.1 技术栈建议
- 前端：微信小程序原生（WXML + WXSS + JS），或 Taro/Megalo 等。
- 后端：微信云开发 / 腾讯云开发，便于集成 AI。
- AI 模型：
  - 首选：Moonshot Kimi（长文本、情感对话）。
  - 备选：通义千问、DeepSeek、ChatGPT（需 API Key）。
- 数值系统：在 Prompt 中嵌入原谅值逻辑（初始值、增减规则、结束判断）。
- 数据库：云数据库存储场景列表、统计数据、用户提交场景。
- 部署：上传微信小程序审核。

### 3.2 AI Prompt 核心逻辑（示例）
```
你是很难哄的【角色】，因为【生气理由】很生气。
用户需要哄你开心。
当前原谅值：XX（初始 20）。
每轮根据用户的话，回复生气/缓和的消息，并计算新原谅值（+/- 值）。
如果 >=100 原谅，如果 <=0 甩掉。
回复格式：
消息内容

原谅值: XX
```

### 3.3 数据来源
- 初始场景：从原网页爬取或手动录入 50+ 热门场景（含播放次数、胜率）。
- 统计更新：后台每日模拟或手动更新。

## 4. UI/UX 设计要求
- 风格：简约大方。
- 聊天界面：高度模仿微信聊天气泡。
- 动画：原谅值变化进度条动画；成功/失败特效（烟花/哭脸）。
- 图标：使用小程序图标库或自定义。

## 5. 项目进度与里程碑（建议）
- 周 1-2：需求确认、场景数据收集、UI 原型。
- 周 3-4：核心页面开发、AI 集成测试。
- 周 5：自定义场景、分享功能、优化。
- 周 6：内测、修 bug、提交审核。

## 6. 风险与注意事项
- AI 成本：高并发 token 消耗大，需限流或使用免费额度。
- 审核：避免敏感内容（暴力、歧视等）。
- 版权：场景需原创化描述，避免直接复制。
- 运营：上线后可加入广告（激励视频）或付费解锁高级场景。

